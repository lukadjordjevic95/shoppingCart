(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{kM0u:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J"),s=u("s7LF");const o={asc:"desc",desc:"","":"asc"};class r{constructor(){this.direction="",this.sort=new t.m}rotate(){console.log("event"),this.direction=o[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}var i=u("niAM"),c=u("HM5K");class e{constructor(l,n,u,t){this.productsService=l,this.store=n,this.modalService=u,this.activeModal=t,this.products=[],this.filteredProducts=[],this.filter=new s.e(""),this.subscriptions=[]}ngOnInit(){this.loadData(),this.filterProducts()}loadData(){this.productsService.getProducts(),this.$products=this.store.select(l=>l.products),this.$cartProducts=this.store.select(l=>l.checkout),this.subscriptions.push(this.$products.subscribe(l=>{this.products=l.products,this.filteredProducts=this.products}))}filterProducts(){this.filter.valueChanges.subscribe(l=>{this.filteredProducts=this.products.filter(n=>n.name.toLowerCase().includes(l.toLowerCase()))})}onSort({column:l,direction:n}){this.headers.forEach(n=>{n.sortable!==l&&(n.direction="")}),this.filteredProducts=""===n||""===l?this.products:[...this.products].sort((u,t)=>{const s=(o=""+u[l])<(r=""+t[l])?-1:o>r?1:0;var o,r;return"asc"===n?s:-s})}openCart(){this.modalService.open(i.a,{size:"lg"})}ngOnDestroy(){this.subscriptions.forEach(l=>l.unsubscribe())}addToCart(l,n){this.store.dispatch(new c.b(Object.assign({},l,{quantity:n})))}}class a{}var b=u("pMnS"),d=u("9AJC"),p=u("BCbU"),h=u("SXdM"),g=u("SVse"),f=u("AytR"),m=u("KlSH");class C{constructor(l,n){this.http=l,this.store=n}getProducts(){return this.http.get(f.a.productsApi).subscribe(l=>{this.store.dispatch(new m.b(l))})}}var v=u("DQLy"),q=u("G0yt"),y=t.ob({encapsulation:0,styles:[[".shopping-cart-btn[_ngcontent-%COMP%]{border-radius:50%;box-shadow:3px 3px 6px gray;position:fixed;top:20px;right:20px}.cart-items-nr[_ngcontent-%COMP%]{position:absolute;top:80%;right:0;font-size:14px}"]],data:{}});function A(l){return t.Mb(0,[(l()(),t.qb(0,0,null,null,2,"span",[["class","cart-items-nr badge badge-success"]],null,null,null,null,null)),(l()(),t.Kb(1,null,["",""])),t.Eb(131072,g.b,[t.h])],null,(function(l,n){var u=n.component;l(n,1,0,t.Lb(n,1,0,t.Cb(n,2).transform(u.$cartProducts)).products.length)}))}function P(l){return t.Mb(0,[(l()(),t.qb(0,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Kb(2,null,[" "," "])),(l()(),t.qb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.qb(4,0,[["quantity",1]],null,0,"input",[["min","0"],["type","number"]],[[8,"value",0]],null,null,null,null)),(l()(),t.qb(5,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),t.Kb(6,null,["",""])),t.Gb(7,5),(l()(),t.qb(8,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),t.qb(9,0,null,null,2,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var s=!0;return"click"===n&&(s=!1!==l.component.addToCart(l.context.$implicit,t.Cb(l,4).value)&&s),s}),null,null)),(l()(),t.qb(10,0,null,null,0,"i",[["class","fa fa-shopping-cart"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,[" Add to cart "]))],null,(function(l,n){l(n,2,0,n.context.$implicit.name),l(n,4,0,n.context.$implicit.quantity);var u=t.Lb(n,6,0,l(n,7,0,t.Cb(n.parent,0),n.context.$implicit.price,"EUR","symbol",".2","de"));l(n,6,0,u)}))}function w(l){return t.Mb(0,[t.Eb(0,g.d,[t.t]),t.Ib(671088640,1,{headers:1}),(l()(),t.qb(2,0,null,null,5,"button",[["class","btn btn-warning shopping-cart-btn"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.openCart()&&t),t}),null,null)),t.Eb(131072,g.b,[t.h]),(l()(),t.qb(4,0,null,null,0,"i",[["class","fa fa-shopping-cart fa-3x"]],null,null,null,null,null)),(l()(),t.fb(16777216,null,null,2,null,A)),t.pb(6,16384,null,0,g.m,[t.N,t.K],{ngIf:[0,"ngIf"]},null),t.Eb(131072,g.b,[t.h]),(l()(),t.qb(8,0,null,null,28,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.qb(9,0,null,null,12,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,u){var s=!0;return"submit"===n&&(s=!1!==t.Cb(l,11).onSubmit(u)&&s),"reset"===n&&(s=!1!==t.Cb(l,11).onReset()&&s),s}),null,null)),t.pb(10,16384,null,0,s.x,[],null,null),t.pb(11,4210688,null,0,s.p,[[8,null],[8,null]],null,null),t.Hb(2048,null,s.b,null,[s.p]),t.pb(13,16384,null,0,s.o,[[4,s.b]],null,null),(l()(),t.qb(14,0,null,null,7,"div",[["class","form-group form-inline mt-5"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,[" Full text search: "])),(l()(),t.qb(16,0,null,null,5,"input",[["class","form-control ml-2"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var s=!0;return"input"===n&&(s=!1!==t.Cb(l,17)._handleInput(u.target.value)&&s),"blur"===n&&(s=!1!==t.Cb(l,17).onTouched()&&s),"compositionstart"===n&&(s=!1!==t.Cb(l,17)._compositionStart()&&s),"compositionend"===n&&(s=!1!==t.Cb(l,17)._compositionEnd(u.target.value)&&s),s}),null,null)),t.pb(17,16384,null,0,s.c,[t.C,t.k,[2,s.a]],null,null),t.Hb(1024,null,s.l,(function(l){return[l]}),[s.c]),t.pb(19,540672,null,0,s.f,[[8,null],[8,null],[6,s.l],[2,s.v]],{form:[0,"form"]},null),t.Hb(2048,null,s.m,null,[s.f]),t.pb(21,16384,null,0,s.n,[[4,s.m]],null,null),(l()(),t.qb(22,0,null,null,14,"table",[["class","table table-striped"]],null,null,null,null,null)),(l()(),t.qb(23,0,null,null,10,"thead",[],null,null,null,null,null)),(l()(),t.qb(24,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),t.qb(25,0,null,null,2,"th",[["scope","col"],["sortable","name"]],[[2,"asc",null],[2,"desc",null]],[[null,"sort"],[null,"click"]],(function(l,n,u){var s=!0,o=l.component;return"click"===n&&(s=!1!==t.Cb(l,26).rotate()&&s),"sort"===n&&(s=!1!==o.onSort(u)&&s),s}),null,null)),t.pb(26,16384,[[1,4]],0,r,[],{sortable:[0,"sortable"]},{sort:"sort"}),(l()(),t.Kb(-1,null,["Product Name"])),(l()(),t.qb(28,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Quantity"])),(l()(),t.qb(30,0,null,null,2,"th",[["scope","col"],["sortable","price"]],[[2,"asc",null],[2,"desc",null]],[[null,"sort"],[null,"click"]],(function(l,n,u){var s=!0,o=l.component;return"click"===n&&(s=!1!==t.Cb(l,31).rotate()&&s),"sort"===n&&(s=!1!==o.onSort(u)&&s),s}),null,null)),t.pb(31,16384,[[1,4]],0,r,[],{sortable:[0,"sortable"]},{sort:"sort"}),(l()(),t.Kb(-1,null,["Price"])),(l()(),t.qb(33,0,null,null,0,"th",[["scope","col"]],null,null,null,null,null)),(l()(),t.qb(34,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.fb(16777216,null,null,1,null,P)),t.pb(36,278528,null,0,g.l,[t.N,t.K,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var u=n.component;l(n,6,0,t.Lb(n,6,0,t.Cb(n,7).transform(u.$cartProducts)).products.length>0),l(n,19,0,u.filter),l(n,26,0,"name"),l(n,31,0,"price"),l(n,36,0,u.filteredProducts)}),(function(l,n){var u=n.component;l(n,2,0,0===t.Lb(n,2,0,t.Cb(n,3).transform(u.$cartProducts)).products.length),l(n,9,0,t.Cb(n,13).ngClassUntouched,t.Cb(n,13).ngClassTouched,t.Cb(n,13).ngClassPristine,t.Cb(n,13).ngClassDirty,t.Cb(n,13).ngClassValid,t.Cb(n,13).ngClassInvalid,t.Cb(n,13).ngClassPending),l(n,16,0,t.Cb(n,21).ngClassUntouched,t.Cb(n,21).ngClassTouched,t.Cb(n,21).ngClassPristine,t.Cb(n,21).ngClassDirty,t.Cb(n,21).ngClassValid,t.Cb(n,21).ngClassInvalid,t.Cb(n,21).ngClassPending),l(n,25,0,"asc"===t.Cb(n,26).direction,"desc"===t.Cb(n,26).direction),l(n,30,0,"asc"===t.Cb(n,31).direction,"desc"===t.Cb(n,31).direction)}))}function x(l){return t.Mb(0,[(l()(),t.qb(0,0,null,null,1,"app-products",[],null,null,null,w,y)),t.pb(1,245760,null,0,e,[C,v.m,q.w,q.d],null,null)],(function(l,n){l(n,1,0)}),null)}var k=t.mb("app-products",e,x,{},{},[]),M=u("IheW"),S=u("iInd"),K=u("d2mR");u.d(n,"ProductsModuleNgFactory",(function(){return $}));var $=t.nb(a,[],(function(l){return t.zb([t.Ab(512,t.j,t.Y,[[8,[b.a,d.c,d.d,p.a,h.a,k]],[3,t.j],t.w]),t.Ab(4608,g.o,g.n,[t.t,[2,g.E]]),t.Ab(4608,q.w,q.w,[t.j,t.q,q.pb,q.x]),t.Ab(4608,s.d,s.d,[]),t.Ab(4608,s.u,s.u,[]),t.Ab(4608,C,C,[M.c,v.m]),t.Ab(4608,q.d,q.d,[]),t.Ab(1073742336,S.m,S.m,[[2,S.r],[2,S.k]]),t.Ab(1073742336,g.c,g.c,[]),t.Ab(1073742336,q.y,q.y,[]),t.Ab(1073742336,q.F,q.F,[]),t.Ab(1073742336,s.t,s.t,[]),t.Ab(1073742336,s.r,s.r,[]),t.Ab(1073742336,s.j,s.j,[]),t.Ab(1073742336,K.a,K.a,[]),t.Ab(1073742336,a,a,[]),t.Ab(1024,S.i,(function(){return[[{path:"",component:e}]]}),[])])}))}}]);