function _toConsumableArray(l){return _arrayWithoutHoles(l)||_iterableToArray(l)||_unsupportedIterableToArray(l)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(l,n){if(l){if("string"==typeof l)return _arrayLikeToArray(l,n);var t=Object.prototype.toString.call(l).slice(8,-1);return"Object"===t&&l.constructor&&(t=l.constructor.name),"Map"===t||"Set"===t?Array.from(l):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(l,n):void 0}}function _iterableToArray(l){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(l))return Array.from(l)}function _arrayWithoutHoles(l){if(Array.isArray(l))return _arrayLikeToArray(l)}function _arrayLikeToArray(l,n){(null==n||n>l.length)&&(n=l.length);for(var t=0,u=new Array(n);t<n;t++)u[t]=l[t];return u}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(l,n){for(var t=0;t<n.length;t++){var u=n[t];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function _createClass(l,n,t){return n&&_defineProperties(l.prototype,n),t&&_defineProperties(l,t),l}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{kM0u:function(l,n,t){"use strict";t.r(n);var u=t("8Y7J"),r=t("s7LF"),e={asc:"desc",desc:"","":"asc"},o=function(){function l(){_classCallCheck(this,l),this.direction="",this.sort=new u.m}return _createClass(l,[{key:"rotate",value:function(){console.log("event"),this.direction=e[this.direction],this.sort.emit({column:this.sortable,direction:this.direction})}}]),l}(),i=t("niAM"),s=t("HM5K"),c=function(){function l(n,t,u,e){_classCallCheck(this,l),this.productsService=n,this.store=t,this.modalService=u,this.activeModal=e,this.products=[],this.filteredProducts=[],this.filter=new r.e(""),this.subscriptions=[]}return _createClass(l,[{key:"ngOnInit",value:function(){this.loadData(),this.filterProducts()}},{key:"loadData",value:function(){var l=this;this.productsService.getProducts(),this.$products=this.store.select((function(l){return l.products})),this.$cartProducts=this.store.select((function(l){return l.checkout})),this.subscriptions.push(this.$products.subscribe((function(n){l.products=n.products,l.filteredProducts=l.products})))}},{key:"filterProducts",value:function(){var l=this;this.filter.valueChanges.subscribe((function(n){l.filteredProducts=l.products.filter((function(l){return l.name.toLowerCase().includes(n.toLowerCase())}))}))}},{key:"onSort",value:function(l){var n=l.column,t=l.direction;this.headers.forEach((function(l){l.sortable!==n&&(l.direction="")})),this.filteredProducts=""===t||""===n?this.products:_toConsumableArray(this.products).sort((function(l,u){var r,e,o=(r=""+l[n])<(e=""+u[n])?-1:r>e?1:0;return"asc"===t?o:-o}))}},{key:"openCart",value:function(){this.modalService.open(i.a,{size:"lg"})}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(l){return l.unsubscribe()}))}},{key:"addToCart",value:function(l,n){this.store.dispatch(new s.b(Object.assign({},l,{quantity:n})))}}]),l}(),a=function l(){_classCallCheck(this,l)},b=t("pMnS"),d=t("9AJC"),p=t("BCbU"),f=t("SXdM"),h=t("SVse"),C=t("AytR"),m=t("KlSH"),g=function(){function l(n,t){_classCallCheck(this,l),this.http=n,this.store=t}return _createClass(l,[{key:"getProducts",value:function(){var l=this;return this.http.get(C.a.productsApi).subscribe((function(n){l.store.dispatch(new m.b(n))}))}}]),l}(),y=t("DQLy"),v=t("G0yt"),A=u.ob({encapsulation:0,styles:[[".shopping-cart-btn[_ngcontent-%COMP%]{border-radius:50%;box-shadow:3px 3px 6px gray;position:fixed;top:20px;right:20px}.cart-items-nr[_ngcontent-%COMP%]{position:absolute;top:80%;right:0;font-size:14px}"]],data:{}});function k(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,2,"span",[["class","cart-items-nr badge badge-success"]],null,null,null,null,null)),(l()(),u.Kb(1,null,["",""])),u.Eb(131072,h.b,[u.h])],null,(function(l,n){var t=n.component;l(n,1,0,u.Lb(n,1,0,u.Cb(n,2).transform(t.$cartProducts)).products.length)}))}function _(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),u.qb(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u.Kb(2,null,[" "," "])),(l()(),u.qb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),u.qb(4,0,[["quantity",1]],null,0,"input",[["min","0"],["type","number"]],[[8,"value",0]],null,null,null,null)),(l()(),u.qb(5,0,null,null,2,"td",[],null,null,null,null,null)),(l()(),u.Kb(6,null,["",""])),u.Gb(7,5),(l()(),u.qb(8,0,null,null,3,"td",[],null,null,null,null,null)),(l()(),u.qb(9,0,null,null,2,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],(function(l,n,t){var r=!0;return"click"===n&&(r=!1!==l.component.addToCart(l.context.$implicit,u.Cb(l,4).value)&&r),r}),null,null)),(l()(),u.qb(10,0,null,null,0,"i",[["class","fa fa-shopping-cart"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,[" Add to cart "]))],null,(function(l,n){l(n,2,0,n.context.$implicit.name),l(n,4,0,n.context.$implicit.quantity);var t=u.Lb(n,6,0,l(n,7,0,u.Cb(n.parent,0),n.context.$implicit.price,"EUR","symbol",".2","de"));l(n,6,0,t)}))}function q(l){return u.Mb(0,[u.Eb(0,h.d,[u.t]),u.Ib(671088640,1,{headers:1}),(l()(),u.qb(2,0,null,null,5,"button",[["class","btn btn-warning shopping-cart-btn"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.openCart()&&u),u}),null,null)),u.Eb(131072,h.b,[u.h]),(l()(),u.qb(4,0,null,null,0,"i",[["class","fa fa-shopping-cart fa-3x"]],null,null,null,null,null)),(l()(),u.fb(16777216,null,null,2,null,k)),u.pb(6,16384,null,0,h.m,[u.N,u.K],{ngIf:[0,"ngIf"]},null),u.Eb(131072,h.b,[u.h]),(l()(),u.qb(8,0,null,null,28,"div",[["class","container"]],null,null,null,null,null)),(l()(),u.qb(9,0,null,null,12,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,t){var r=!0;return"submit"===n&&(r=!1!==u.Cb(l,11).onSubmit(t)&&r),"reset"===n&&(r=!1!==u.Cb(l,11).onReset()&&r),r}),null,null)),u.pb(10,16384,null,0,r.x,[],null,null),u.pb(11,4210688,null,0,r.p,[[8,null],[8,null]],null,null),u.Hb(2048,null,r.b,null,[r.p]),u.pb(13,16384,null,0,r.o,[[4,r.b]],null,null),(l()(),u.qb(14,0,null,null,7,"div",[["class","form-group form-inline mt-5"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,[" Full text search: "])),(l()(),u.qb(16,0,null,null,5,"input",[["class","form-control ml-2"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var r=!0;return"input"===n&&(r=!1!==u.Cb(l,17)._handleInput(t.target.value)&&r),"blur"===n&&(r=!1!==u.Cb(l,17).onTouched()&&r),"compositionstart"===n&&(r=!1!==u.Cb(l,17)._compositionStart()&&r),"compositionend"===n&&(r=!1!==u.Cb(l,17)._compositionEnd(t.target.value)&&r),r}),null,null)),u.pb(17,16384,null,0,r.c,[u.C,u.k,[2,r.a]],null,null),u.Hb(1024,null,r.l,(function(l){return[l]}),[r.c]),u.pb(19,540672,null,0,r.f,[[8,null],[8,null],[6,r.l],[2,r.v]],{form:[0,"form"]},null),u.Hb(2048,null,r.m,null,[r.f]),u.pb(21,16384,null,0,r.n,[[4,r.m]],null,null),(l()(),u.qb(22,0,null,null,14,"table",[["class","table table-striped"]],null,null,null,null,null)),(l()(),u.qb(23,0,null,null,10,"thead",[],null,null,null,null,null)),(l()(),u.qb(24,0,null,null,9,"tr",[],null,null,null,null,null)),(l()(),u.qb(25,0,null,null,2,"th",[["scope","col"],["sortable","name"]],[[2,"asc",null],[2,"desc",null]],[[null,"sort"],[null,"click"]],(function(l,n,t){var r=!0,e=l.component;return"click"===n&&(r=!1!==u.Cb(l,26).rotate()&&r),"sort"===n&&(r=!1!==e.onSort(t)&&r),r}),null,null)),u.pb(26,16384,[[1,4]],0,o,[],{sortable:[0,"sortable"]},{sort:"sort"}),(l()(),u.Kb(-1,null,["Product Name"])),(l()(),u.qb(28,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(l()(),u.Kb(-1,null,["Quantity"])),(l()(),u.qb(30,0,null,null,2,"th",[["scope","col"],["sortable","price"]],[[2,"asc",null],[2,"desc",null]],[[null,"sort"],[null,"click"]],(function(l,n,t){var r=!0,e=l.component;return"click"===n&&(r=!1!==u.Cb(l,31).rotate()&&r),"sort"===n&&(r=!1!==e.onSort(t)&&r),r}),null,null)),u.pb(31,16384,[[1,4]],0,o,[],{sortable:[0,"sortable"]},{sort:"sort"}),(l()(),u.Kb(-1,null,["Price"])),(l()(),u.qb(33,0,null,null,0,"th",[["scope","col"]],null,null,null,null,null)),(l()(),u.qb(34,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),u.fb(16777216,null,null,1,null,_)),u.pb(36,278528,null,0,h.l,[u.N,u.K,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var t=n.component;l(n,6,0,u.Lb(n,6,0,u.Cb(n,7).transform(t.$cartProducts)).products.length>0),l(n,19,0,t.filter),l(n,26,0,"name"),l(n,31,0,"price"),l(n,36,0,t.filteredProducts)}),(function(l,n){var t=n.component;l(n,2,0,0===u.Lb(n,2,0,u.Cb(n,3).transform(t.$cartProducts)).products.length),l(n,9,0,u.Cb(n,13).ngClassUntouched,u.Cb(n,13).ngClassTouched,u.Cb(n,13).ngClassPristine,u.Cb(n,13).ngClassDirty,u.Cb(n,13).ngClassValid,u.Cb(n,13).ngClassInvalid,u.Cb(n,13).ngClassPending),l(n,16,0,u.Cb(n,21).ngClassUntouched,u.Cb(n,21).ngClassTouched,u.Cb(n,21).ngClassPristine,u.Cb(n,21).ngClassDirty,u.Cb(n,21).ngClassValid,u.Cb(n,21).ngClassInvalid,u.Cb(n,21).ngClassPending),l(n,25,0,"asc"===u.Cb(n,26).direction,"desc"===u.Cb(n,26).direction),l(n,30,0,"asc"===u.Cb(n,31).direction,"desc"===u.Cb(n,31).direction)}))}var P=u.mb("app-products",c,(function(l){return u.Mb(0,[(l()(),u.qb(0,0,null,null,1,"app-products",[],null,null,null,q,A)),u.pb(1,245760,null,0,c,[g,y.m,v.w,v.d],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),w=t("IheW"),S=t("iInd"),x=t("d2mR");t.d(n,"ProductsModuleNgFactory",(function(){return I}));var I=u.nb(a,[],(function(l){return u.zb([u.Ab(512,u.j,u.Y,[[8,[b.a,d.c,d.d,p.a,f.a,P]],[3,u.j],u.w]),u.Ab(4608,h.o,h.n,[u.t,[2,h.E]]),u.Ab(4608,v.w,v.w,[u.j,u.q,v.pb,v.x]),u.Ab(4608,r.d,r.d,[]),u.Ab(4608,r.u,r.u,[]),u.Ab(4608,g,g,[w.c,y.m]),u.Ab(4608,v.d,v.d,[]),u.Ab(1073742336,S.m,S.m,[[2,S.r],[2,S.k]]),u.Ab(1073742336,h.c,h.c,[]),u.Ab(1073742336,v.y,v.y,[]),u.Ab(1073742336,v.F,v.F,[]),u.Ab(1073742336,r.t,r.t,[]),u.Ab(1073742336,r.r,r.r,[]),u.Ab(1073742336,r.j,r.j,[]),u.Ab(1073742336,x.a,x.a,[]),u.Ab(1073742336,a,a,[]),u.Ab(1024,S.i,(function(){return[[{path:"",component:c}]]}),[])])}))}}]);